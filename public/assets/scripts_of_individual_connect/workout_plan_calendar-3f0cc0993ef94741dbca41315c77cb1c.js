function rand(t,e){var n=t+Math.random()*(e+1-t);return n=Math.floor(n)}function split(t,e){for(var n=t.length,i=[],o=0;n>o;){var s=Math.ceil((n-o)/e--);i.push(t.slice(o,o+s)),o+=s}return i}function MemberOnlyDay(){var t=$(".workout-plan-calendar tbody tr").length,e=$("#workout-plan-calendar").find("td.day"),n=split(e,t);$(n).each(function(t){var e=n[t],i=e.find(".work.day-type"),o=e.find(".rest.day-type");countingDays(e,i),countingDays(e,o)})}function MemberOnlyDayMobile(){var t=$(".workout-plan-calendar .show-for-small").find(".day"),e=t.find(".work.day-type"),n=t.find(".rest.day-type");countingDays(t,e),countingDays(t,n)}function countingDays(t,e){var n=t.find(e),i=rand(0,n.length-1),o='<span class="memberonly">Members only</span>';n.each(function(t){if(t==i);else{var e=n[t];$(e).parent().empty().append(o)}})}$(document).ready(function(){$(".week_copy_selector").select2({placeholder:"Copy to:",width:"65%"}).on("change",function(){$.ajax({url:"/workout-plans/copy_week",dataType:"script",data:{copy_to_week:this.value,current_week:$(this).attr("week"),workout_plan_id:$(".workout_plan_form").attr("workout_plan"),workout_length:$("#workout_length").text(),workout_first_week:$("#workout_first_week").text()},success:function(){check_length(),check_content(),wop_percent_of_complete()},error:function(){}})}),"false"==$("#show_full_calendar").html()&&(MemberOnlyDay(),MemberOnlyDayMobile()),$("#workout-plan-calendar").show()});